<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quran Memorizer's Companion</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body class="bg-light">

<header class="bg-success text-white text-center py-3">
    <h1>Quran Memorizer's Companion</h1>
</header>

<main class="container my-4">
    <section id="controls" class="mb-4">
        <audio id="quranAudio" controls class="w-100">
            <source id="audioSource" src="" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        <div class="mt-2">
            <label for="speedControl" class="form-label">Playback Speed:</label>
            <select id="speedControl" class="form-select">
                <option value="1">Normal</option>
                <option value="1.5">1.5x</option>
                <option value="2">2x</option>
            </select>
        </div>
        <progress id="progressBar" class="w-100" value="0" max="100"></progress>
    </section>

    <section id="navigation" class="text-center mb-4">
        <h2>Select a Section</h2>
        <button id="surahButton" class="btn btn-success mx-2">Surah by Surah</button>
        <button id="juzButton" class="btn btn-success mx-2">Juz by Juz</button>
    </section>

    <section id="content" style="display:none;">
        <h2 id="contentTitle" class="text-center"></h2>
        <ul id="contentList" class="list-group"></ul>
    </section>
</main>

<footer class="bg-success text-white text-center py-2">
    <p>Memorization Progress Tracker</p>
</footer>

<script src="script.js"></script>

<script>
$(document).ready(function() {
    const audio = $('#quranAudio')[0];

    // Change playback speed
    $('#speedControl').on('change', function() {
        audio.playbackRate = parseFloat($(this).val());
    });

    // Save progress
    audio.addEventListener('pause', function() {
        localStorage.setItem('progress', audio.currentTime);
    });

    // Load progress
    $(window).on('load', function() {
        let savedTime = localStorage.getItem('progress');
        if (savedTime) {
            audio.currentTime = savedTime;
        }
    });

    // Update progress bar
    setInterval(function() {
        if (!audio.paused) {
            $('#progressBar').val((audio.currentTime / audio.duration) * 100);
        }
    }, 1000);

    // Audio source URLs for Surahs and Juz (replace with actual audio links)
    const audioSources = {
        'Surah Al-Fatiha': 'https://aswaatulqurraa.com/downloads/quran-audio/quran-in-surahs/a/abdul-basit-abdulsamad/al-fatihah.mp3',
        'Surah Al-Baqarah': 'https://aswaatulqurraa.com/downloads/quran-audio/quran-in-surahs/a/abdul-basit-abdulsamad/al-baqarah.mp3',
        // Add more Surah audio links
    };

    // Juz list with online links
    const juzLinks = {
        'Juz 1': 'https://quran.com/juz/1',
        'Juz 2': 'https://quran.com/juz/2',
        'Juz 3': 'https://quran.com/juz/3',
        'Juz 4': 'https://quran.com/juz/4',
        'Juz 5': 'https://quran.com/juz/5',
        'Juz 6': 'https://quran.com/juz/6',
        'Juz 7': 'https://quran.com/juz/7',
        'Juz 8': 'https://quran.com/juz/8',
        'Juz 9': 'https://quran.com/juz/9',
        'Juz 10': 'https://quran.com/juz/10',
        'Juz 11': 'https://quran.com/juz/11',
        'Juz 12': 'https://quran.com/juz/12',
        'Juz 13': 'https://quran.com/juz/13',
        'Juz 14': 'https://quran.com/juz/14',
        'Juz 15': 'https://quran.com/juz/15',
        'Juz 16': 'https://quran.com/juz/16',
        'Juz 17': 'https://quran.com/juz/17',
        'Juz 18': 'https://quran.com/juz/18',
        'Juz 19': 'https://quran.com/juz/19',
        'Juz 20': 'https://quran.com/juz/20',
        'Juz 21': 'https://quran.com/juz/21',
        'Juz 22': 'https://quran.com/juz/22',
        'Juz 23': 'https://quran.com/juz/23',
        'Juz 24': 'https://quran.com/juz/24',
        'Juz 25': 'https://quran.com/juz/25',
        'Juz 26': 'https://quran.com/juz/26',
        'Juz 27': 'https://quran.com/juz/27',
        'Juz 28': 'https://quran.com/juz/28',
        'Juz 29': 'https://quran.com/juz/29',
        'Juz 30': 'https://quran.com/juz/30',
    };

    // Navigation buttons
    $('#surahButton').on('click', function() {
        loadContent('surah');
    });

    $('#juzButton').on('click', function() {
        loadContent('juz');
    });

    function loadContent(type) {
        $('#content').show();
        $('#contentList').empty();
        $('#contentTitle').text(type === 'surah' ? 'Surah List' : 'Juz List');

        const items = type === 'surah' ? Object.keys(audioSources) : Object.keys(juzLinks);
        items.forEach(item => {
            if (type === 'surah') {
                $('#contentList').append(`<li class="list-group-item" data-audio="${audioSources[item]}">${item}</li>`);
            } else {
                $('#contentList').append(`<li class="list-group-item"><a href="${juzLinks[item]}" target="_blank">${item}</a></li>`);
            }
        });

        // Click event to play Surah audio
        $('#contentList').on('click', 'li[data-audio]', function() {
            const audioSource = $(this).data('audio');
            $('#audioSource').attr('src', audioSource);
            audio.load();
            audio.play();
        });
    }
});
</script>

</body>
</html>
